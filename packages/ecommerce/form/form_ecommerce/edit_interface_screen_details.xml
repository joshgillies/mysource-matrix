<!--
/**
* +- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
* | This MySource Matrix CMS file is Copyright (c) Squiz Pty Ltd       |
* | ACN 084 670 600                                                    |
* +- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
* | IMPORTANT: Your use of this Software is subject to the terms of    |
* | the Licence provided in the file licence.txt. If you cannot find   |
* | this file please contact Squiz (www.squiz.net) so we may provide   |
* | you a copy.                                                        |
* +- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
*
* $Id: edit_interface_screen_details.xml,v 1.16 2013/06/20 07:28:29 cupreti Exp $
*
*/
-->

<contents>
    <section name="Details">
        <field write_access="write:attributes" attribute="name">
            <display_name>Name</display_name>
            <note />
            <text width="35" height="1" />
        </field>
    </section>
    <section name="Payment Gateway" write_access="write:attributes">
        <field>
            <display_name>Linked Gateway(s)</display_name>
            <note>In order for the form to display e-commerce functionality it has to be linked to atleast one e-commerce gateway. Otherwise it will act as a normal custom form.</note>
            <function_call>
                <paint_function name="paintPaymentGateways" />
                <process_function name="processPaymentGateways" />
            </function_call>
        </field>
    </section>
    <section name="Taxation" write_access="write:attributes">
        <field attribute="tax_name">
            <display_name>Tax Name</display_name>
            <text width="10" height="1" />
        </field>
        <field attribute="tax_value">
            <display_name>Tax Value (%)</display_name>
            <note>Do not include the % sign</note>
            <float width="3" />
        </field>
    </section>
    <section name="Asset Purchase" write_access="write:attributes">
        <note>This section allows you to make any asset in the system purchasable. When an asset is being purchased, it will be added to the list of items generated by ecommerce rules.</note>
        <field attribute="item_req_var">
            <display_name>Asset ID Request Variable</display_name>
            <note>This is the name of the request variable that will be used to pass the asset id to be purchased. If the value of this variable is 'add_to_cart' for example, then calling this asset with 'URL?add_to_cart=123' will try to add asset with id 123 to the checkout if it satisfies the required conditions.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="item_quantity_req_var">
            <display_name>Asset Quantity Request Variable</display_name>
            <note>This is the name of the request variable that will be used to pass the quantity of asset to be purchased. If the value of this variable is 'add_quantity' for example, then calling this asset with 'URL?add_quantity=10' will try to add 10 assets (supplied by above request var) to the checkout if it satisfies the multiplicity condition.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="item_promo_code_req_var">
            <display_name>Asset Promotional Code Request Variable</display_name>
            <note>This is the name of the request variable that will be used to pass the promotional code of the asset to be purchased. If the value of this variable is 'promotional_code' for example, then calling this asset with 'URL?promotional_code=CODE' will try to evaluate the discounted price if it satisfies the promotable conditions.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="asset_price_source">
            <display_name>Price Source</display_name>
            <note>This string will be evaluated to construct a price. You can use any keyword available on the asset being purchased. If the evaluated price source string generates a number, that number will be used as item price, rounded to 2 decimal places.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="asset_taxable_source">
            <display_name>Taxability Source</display_name>
            <note>This string will be evaluated to determine if an asset being purchased is taxable. You can use any keyword available on the asset being purchased. If this string evaluates to a non-empty value, the item is considered taxable.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="asset_name_source">
            <display_name>Name Source</display_name>
            <note>This string will be evaluated to obtain the item name for the asset being purchased. You can use any keyword available on that asset. If this string evaluates to an empty string, asset name will be used. This option is provided because you might want to construct a name from a few keywords.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="asset_multiple_source">
            <display_name>Multiplicity Source</display_name>
            <note>This string will be evaluated to determine if multiples of an asset can be purchased at once (i.e. 5 items in one checkout). You can use any keyword available on that asset. If this string evaluates to an empty string, multiples are not allowed.</note>
            <text width="60" height="1" />
        </field>
        <field attribute="asset_promotable_source">
            <display_name>Promotability Source</display_name>
            <note>This string will be evaluated to determine if the purchased asset accepts promotional codes. You can use any keyword available on that asset. If this string evaluates to an empty string or the string "0", promotional codes will not be accepted. This option is provided because not all assets are on sale.</note>
            <text width="60" height="1" />
        </field>
    </section>
    <section name="Customise the EPS REFERENCE ID" write_access="write:attributes">
        <field attribute="custom_reference_id">
            <display_name>New Reference ID</display_name>
            <note>This string will be evaluated to determine the reference ID of the purchase. The value of this string will be used as the EPS_REFERENCEID value during the transaction with the Payment Gateway. We recommend you to use one of the following keywords to keep the value as unique as possible:
				&lt;ul&gt;
				&lt;li&gt;%current_time% - this keyword will be replaced with the current time&lt;/li&gt;
				&lt;li&gt;%session_id% - this keyword will be replaced with the current session id&lt;/li&gt;
				&lt;/ul&gt;
			</note>
            <text width="60" height="1" />
        </field>
    </section>
</contents>
