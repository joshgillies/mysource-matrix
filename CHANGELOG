MYSOURCE MATRIX CHANGELOG

VERSION 3.16.0

Complete Changelog
-----------------------------------

Core

* Fixed bug #2128: WYSIWYG Editor can't handle &deg; from "Special Characters"
* Fixed bug #2567: Keyword Regexp Condition Problem
* Fixed bug #2568: Headings for the Escalation Steps in a Workflow Schema
* Fixed bug #2572: Wording for the SSL section on the settings screen
* Fixed bug #2573: Remove the XML Namespace Settings from the Metadata Schema
* Fixed bug #2586: WYSIWYG design styles lost on commit
* Fixed bug #2588: Asset Map boundary error
* Fixed bug #2589: Asset_Manager:::getLinkByAsset() function returns odd results with shadow assets and force_array=TRUE

CMS

* Fixed bug #2580: Assets listed by metadata_date incorrectly (Listing Engine)
* Fixed bug #2581: Related Listing nested content recursion warning (Related Asset Listing)

News

* Fixed bug #2551: Comment Preferences layout inconsistent (Comment)



VERSION 3.16.0 RC1

Featured Changes
-----------------------------------

New Login URL suffix

    This new login suffix (default "_login") will present MySource Matrix's login box, but will return to the front-end after login, rather than proceeding to the Admin or Simple Edit interface. The suffix can be changed from the System Configuration screen.


DB Connector Asset

    This new asset allows you to store details of a database connection once, then re-use it throughout many DB Data Source assets, instead of having to re-enter the details on each asset.


Dynamic Parameters for DB Data Source

    DB Data Source assets now allow queries to use dynamic parameters. These parameters are defined on a new screen, which are then sourced from a parameter map (allowing the asset to use GET or POST variables, or the current user, site or asset). These variables can be used anywhere within a manually-configured query, by surrounding the parameter name with double-percentage signs (%%VariableName%%).


Stalled HIPO Reminder

    This new feature adds a pop-up message (similar to the New Messages pop-up) if MySource Matrix believes a HIPO job has stalled for longer than five minutes. A new screen will also appear upon logging out in this situation, giving users a chance to go back to the HIPO Herder and possibly kill off the stalled job if necessary.


Hit Count Triggers and Listing Asset

    Three new triggers allow you to modify a new "hit count" counter for an asset - either incrementing, decrementing, or resetting it. This hit count can then be listed using a new Hit Count Listing Page, which will list all assets underneath a root node with their hit counts. This list can be limited to assets satisfying a certain hit count criteria.


Protocol Templates in WYSIWYG Insert Link Pop-Up

    This new preference allows you to create 'pseudo-protocols' for use in the WYSIWYG Insert Link pop-up, by providing a link template to expand to. This 'pseudo-protocol' only has meaning in the Insert Link pop-up, as it is inserted 'expanded' into the WYSIWYG content. However, if recognised as still being of that template, the Insert Link pop-up will recognise it as being that template if the link is later modified.


Cacheable Headers for HTTP 404 Responses

    This new System Configuration setting allows pages returning a "HTTP 404 Not Found" response to be cached by a caching proxy server. This option is separate from the general "Send Cacheable Headers" setting, and the expiry time of the cached response is determined by the cache expiry setting in the Cache Manager asset.


Nest Content Paint Layout Options

    The Nest Content Content Type now allows you to style assets with a paint layout based on the current URL, or an arbitrary paint layout, in addition to the previous functionality of painting them "raw".


Snippet Content Type Asset

    This Content Type allows editors to select from a list of Bodycopy Containers that are children of a certain root node, which is then inserted into the current Bodycopy Container.


Log In as Local User with LDAP Authentication

    If this new LDAP Authentication System option is turned on, if an LDAP system successfully authenticates a user name and password, it will attempt to log in as a standard user (ie. one authenticated using Default Authentication) with the same user name. If such a user cannot be found, the log in will fail.


XML User Bridge Asset

    This new Data package asset fetches an XML file from a specified URL, and creates shadowed user groups and users underneath it if valid. An example XML file is provided to show what can be expected. Any valid attribute for a user can be used, including attributes for custom user types if that user type is specified by the bridge. These users will not be able to log in, as no authentication system is provided.


Session-Level Dynamic Parameters

    Session-Level dynamic parameters can now be created using a Set Session Variable trigger action, and accessed from settings using a parameter map, allowing values to be stored across a session. (Note: this feature is "sandboxed" and no other PHP session variables are available.)


Option to Disable Auto Simple Edit in Account Manager

    This new Account Manager setting allows you to disable the automatic redirection to the Simple Edit interface when a logged-in user accesses the Account Manager page. This allows logged in users to create accounts through an Account Manager.


Option to Disable Edit Interface CSS in Simple Edit Mode

    The Layout Manager's Details screen now offers the ability to disable the default interface styling used by the Simple Edit interface, which may allows easier creation of custom Simple Edit interfaces.


LDAP Bridge Alias De-referencing Options

    This advanced option allows LDAP Bridges to de-reference alias objects in an LDAP directory: either when locating the Base DN, when searching the directory for objects, or both.


Link to Existing Bulkmail Users in Import Tool

    A new "Link user with an existing email address" option has been added to the Import Bulkmail Users tool. With this option turned on, if a Bulkmail user is found in the system with the same email address as one being imported, that user will be linked to the User Group where the users are being created in, rather than an error being thrown.


Online Quiz "Response Supplement" fields

    Multiple-Choice Online Quiz Questions now come with the ability to provide supplementary text for each response. This can be used as an explanation of why that answer was correct or incorrect.


Online Quiz Question Group Asset

    Online Quiz Question Group assets are the preferred container for questions used in an Online Quiz asset. They also contain a concept of "Score Categories", allowing you to define labels for certain score ranges (eg. >10 = "Excellent", 7-9 = "Good", etc). A keyword is provided in the Thank You bodycopy to print this label. A "Supplementary Content" field is provided for score categories, which is of a similar concept to the "Response Supplement" fields in Online Quiz Questions.


Import File Script Changes

    The scripts/import/import_file.php script now has an alternative action: if a third parameter (containing an asset ID) is passed to the script. If passed, this asset ID will be used as the parent asset for all assets imported from the directory. A fourth parameter allows users to set whether unrestricted access will be turned on or off for the newly imported File assets.


Configurable Day Headings in Calendar Page

    The day headings on the Week and Month "List with day headings" view in the Calendar Page are now customisable.


Multi-Date Calendar Event

    This new generic asset allows single and recurring events to be placed underneath it, so that the resulting event is treated as a whole. This should allow, for example, for an event to be described as "7:30pm - 9pm every Tuesday AND 6:30pm - 8pm every Thursday", for example.)


Calendar Event "Short Time" Keywords

    The new %event_short_start_time% and %event_short_end_time% keywords display 12-hour formats, but drop the minutes if the time is on the hour (eg. "2:30pm", but "9am").


Default Delivery Method Asset

    This new delivery method for the E-Commerce system comes with a blank Simple Form that allows you to gather information from the user (for name, address and so on); one bodycopy for each E-Commerce Checkout status (Confirmation, Success and Failure), and two types of email (receipt and other recipient) to be sent upon success.


E-Commerce Checkout: Display Extra Options Screen

    This new screen allows you to customise the name and percentage of the tax rate usable by E-Commerce Checkout (defaults to Australian GST, 10%), and also allows you to specify a list of flat fees (per order) using Product assets.


Purge Trash Script

    This new script allows the trash to be purged from a command line interface. Requires root user access.


Set Index Page for Site Trigger Action

    This new trigger action sets the index page of a Site asset to the specified asset. This action only makes sense when fired on a Site asset.


Improved Config Variable Handling in Import

    It is now possible to use config variables ("[[conf://…]]") with other text and variables around them in a node value, rather than just on their own.



Additional Changes and Bug Fixes
-----------------------------------

Core

+ Starting <abbr> tag now works in IE6
+ Set Tag Trigger Action now allows tag IDs to be assigned dynamically, using a parameter map
+ Thesaurus asset can now list its own children (for Asset Listings, et al)
+ Bridges now support handling of getAllChildLinks() function
+ Future Lineage trigger now allows a datetime attribute to be the basis of a set date

CMS

+ Account Manager create form is now XHTML compliant (Account Manager Page)
+ Online Quiz Questions can now use HTML in the display of its options (disabled by default) (Online Quiz Question)
+ Online Quiz Questions now have a Question Note field, similar to custom form questions (Online Quiz Question)
+ New Online Quiz Submission asset, for Online Quiz submission logging (Online Quiz Submission)
+ WYSIWYG-based Online Quiz options now accept asset shortcut links (./?a=123) (Online Quiz)
+ Keywords %asset_contents% and %asset_contents_raw% now work for shadow assets as per normal ones (Listing Engine)
+ Shadow assets now accepted as create locations in Asset Builder (Asset Builder Page)

Calendar

+ Display formats for custom Calendar Event assets can now be customised
+ Event Sources option can now use a parameter map to override default source(s)

LDAP

* LDAP User Now Extends LDAP User, not Backend User, removing duplication of LDAP Bridge code

E-Commerce

+ Generic Product asset now implements Buyable interface (Product)
+ E-Commerce Cart now has keyword for Product total/extension (quantity x price) (E-Commerce Cart)
+ Cart summary keyword is now also available on E-Commerce Checkout's Receipt bodycopy (E-Commerce Checkout Page)
+ E-Commerce Checkout now provides "text-only" cart and form summary keywords (E-Commerce Checkout Page)
+ E-Commerce Form now allows customisation of eSec Payment Gateway's reference ID (E-Commerce Form)
