MYSOURCE MATRIX CHANGELOG

VERSION 3.26.0 RC1

Featured Changes
-----------------------------------

Workflow Streams
	This functionality allows multiple sets of Workflow Steps per Workflow Schema, and allows Administrators to select which of these sets is to be used for any given Workflow process.

Please note that new and existing Workflow Schema steps will be moved under a "Default Stream" which resides under the related Workflow Schema. This Default Stream cannot be moved or deleted. 


Replace Keywords option in Set Value Trigger Action
	A checkbox "Replace keywords in the set value" is provided in the Set Metadata Value and Set Attribute Value Trigger Actions to indicate whether keywords supplied in these fields are to be replaced upon evaluation rather than being treated as literal text. This can be used with both asset-level and Global Keywords.


Public User Trigger Condition
	A Trigger Condition has been added to evaluate whether or not the user who caused the associated Trigger to fire was the Public User (ie; not logged in). 


Asset Lineage Design Area: Negative Start Level definition
	The attribute value for "start_at_level" can now be specified as a negative number to refer to direct parent assets of the current asset.
For example, -1 would refer to the direct parent, -n to the nth direct parent. Other positive numbers (0 = current asset, 1 direct child etc.) still continue to function as previously defined. 


Additional Asset Keyword Modifiers
	New Keyword Modifiers have been added, which are:

	- md5 (return the computed MD5 hash of the value)
	- sha1 (return the computed SHA1 hash of the value)
	- stripdecl (strips an XML declaration <?xml ... > from the value)
	- number_format (formats a number with grouped thousands and rounded to x significant digits, defaulting to 0)

Some examples:
	%asset_name^md5% (eg; fred becomes 08b622ddf7eb7c8e44cdb3bd6362f966)
	%asset_attribute_price^number_format:2% (eg; takes 1.235 and shows it as 1.24) 


PayPal Payment Gateway modifications
	The PayPal Payment Button asset now supports "Donate", "Add to Cart" and "View Cart" button types, in addition to "Buy Now". The options for each Button Type are available by toggling the Button Type from the "Details" screen and clicking "Commit".

	- Donate Button
	This button allows the name of the Organisation or purpose of the donation to be supplied, as well as the ability to specify a fixed amount.

    - Add To Cart and View Cart buttons
	This allows for cart-based transactions to be maintained by the PayPal environment. The "View Cart" button provides an option to open the cart contents either within the current browser window/tab or in a new window/tab.

	- PayPal IPN Receiver modifications
	This asset has been modified to accept the "Cart" transaction type and to populate the receipt of the generated PayPal Order. 


Move Assets Script enhancements
	The Create Links HIPO Job is now used in this script to perform "move" operations, rather than direct asset manipulation. 


System Update Lookups Script: Increased Verbosity
	The system_update_lookups.php script now supports an optional "--verbose" argument to display any errors which may occur as a result of updating lookups. The script can now be executed from the Matrix System Root directory as follows:

	php scripts/system_update_lookups.php . 123 --verbose


Globals Site Keywords performance enhancement
	Modifications have been made to the Matrix core to provide improvements in the evaluation speed of %globals_site_..% keywords and when site-based options are selected from the Parameter Map. 


Get Lineage performance enhancement
	Instead of loading each asset in the lineage to determine whether they are in Safe Edit, this is now only performed upon assets in the lineage which are in Safe Edit. This should show a slight improvement on the initial load on long lineages with many assets not in Safe Edit. 


Purge Trash HIPO performance enhancement
	A query has been optimised in the Purge Trash HIPO to return assets in "sort order". This modification removes the need to update the sort order of nearby assets, which may result in a performance increase when running this HIPO.
