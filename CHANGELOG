MYSOURCE MATRIX CHANGELOG

VERSION 3.4.8

Featured Changes
----------------------

REMOTE CONTENT URL WHITELISTS

	The remote content asset now has an option that allows you to specify a list of URLs that the remote content asset will fetch. This was done to stop "the bad guys" from using a remote content asset as an anonymiser. When *all* the links are re-written to point back to the remote content asset (and if the white list in *not* empty) only those remote URLs that are based on the white listed URLs are allowed through.


Complete Changelog
----------------------

Core

* Fixed bug #987: <A> Tag misplaced outside <P>
* Fixed bug #1067: Some attributes should compare old and new values using '===' not '=='

CMS

* Fixed bug #823: Remote Content does not validate the Remote URL provided in the URL (remote content)
* Fixed bug #1042: Select option of the custom form doesnt allow selection of first option (custom form)




VERSION 3.4.7

Complete Changelog
----------------------

Core

* Fixed bug #899: LDAP bridge throws error when there are zero people in a AD group
* Fixed bug #904: Permissions HIPO and Archived Assets
* Fixed bug #909: Workflow report has interface imbalance when printing
* Fixed bug #910: HTML entities in the wysiwyg are not preserved during view source mode
* Fixed bug #914: Wysiwyg editor converts question marks to delta characters
* Fixed bug #927: Login_Form design area does not allow both login and logout sections
* Fixed bug #930: Two security issues with repeatedly incorrect logins
* Fixed bug #951: Table editor does not maintain width=100%

CMS

* Fixed bug #901: Backslash appearing in drop down lists (Custom Form)
* Fixed bug #907: Error on selective emails screen.... "Rule valid ?" (Custom Form)
* Fixed bug #918: Account Manager email validation not working (Asset Builder)
* Fixed bug #919: Account Manager doesn't print Created Live bodycopy (Asset Builder)
* Fixed bug #924: Can't create selective email rule for option list question (Custom Form)
* Fixed bug #933: Rules fire when form question is optional (Custom Form)




VERSION 3.4.6

Complete Changelog
----------------------

Core

* Fixed bug #666: Similar URLs breaking getLineageFromURL
* Fixed bug #808: Paint layout not removed from URL
* Fixed bug #827: Insert Link in wysiwyg not supporting rtsp protocol
* Fixed bug #828: Image Editor changes file extension unintentionally
* Fixed bug #837: Package manager cannot detect indirectly deferred assets
* Fixed bug #856: Backend Users can't create Matrix Users
* Fixed bug #878: Status block no longer appears for user assets in Simple Edit
* Fixed bug #894: Table Editor breaks contained image src links (IE only)
* Fixed bug #896: Javascript error when closing the Admin in Firefox

CMS

* Fixed bug #836: Undefined variable in form_email_edit_fns on line 942 (custom form)
* Fixed bug #846: Client side validation printed even if question not printed (custom form)
* Fixed bug #851: Form::getLinks() only returns shadow assets (custom form)
* Fixed bug #885: Undefined index: attribute with tickbox tables (custom form)
* Fixed bug #889: Default value will not deselect on an options list (custom form)

Search

* Fixed bug #835: Manually changed asset dates are not updated in search index table (search manager)
* Fixed bug #858: Case sensitivity on white word list (search manager)
* Fixed bug #888: No validation occurs on search indexing field (search manager)

LDAP

* Fixed bug #860: Messages from deleted LDAP users generate warnings/errors (ldap user)

Calendar

* Fixed bug #890: pop up bug in calender (design area js calendar navigator)




VERSION 3.4.5

Complete Changelog
----------------------

Core

* Fixed bug #369: logging in with low access sometimes logs you straight back out
* Fixed bug #717: using layouts to edit metadata on front end
* Fixed bug #764: freestyling permissions HIPO doesn't cascade
* Fixed bug #782: users are not receiving WYSIWYG preferences from group membership
* Fixed bug #787: deleting a metadata schema doesn't remove it from assets
* Fixed bug #789: assets to which read permission is denied still appear in menus
* Fixed bug #800: when adding new link between asset and root folder childrens' treeids become corrupted
* Fixed bug #802: inconsistencies in Table Creation interface
* Fixed bug #807: after an asset is deleted (purged) links to assets under it remain

CMS

* Fixed bug #332: form cloning issues - form sections not cloned along with form
* Fixed bug #490: asset builder - keyword missing if metadata applied
* Fixed bug #538: cloning a Page Asset Listing - Bodycopy Problem
* Fixed bug #757: asset Listing in Random mode is being cached
* Fixed bug #781: submitting no value to reqd email address causes PHP Notice

Search

* Fixed bug #816: ampersand in search HTML should be an entity
* Fixed bug #820: boundary condition errors when searching on date ranges

Lexicon

* Fixed bug #783: expand Keywords plugin available without Lexicon package installed




VERSION 3.4.4

Featured Changes
----------------------

PAGINATED FORM SUBMISSIONS

	Previously, all form submission were listed on the same page in the custom form. This caused errors when a large number of form submissions (> 10,000) were being displayed. The custom form now has a paginated interface for viewing form submissions, allowing the interface to cope with an unlimited number of submission for a single form.

WYSIWYG TABLE EDITOR IMPROVED

	The WYSIWYG table editor now has a number of new (widely requested) ways to edit HTML tables. While some are new pieces of functionality, the changes have been back-ported to the current stable branch to fix a number of bugs in the table editor that are stopping users from editing content.

	The new table editing functionality allows for:
	- the selection of row, cell, and column properties for modification (previously only row and cell were available)
	- there are options for the entire table such as border (both html and css), colour, caption and other functionality that was present in previous versions
	- each of the selectors now has their own panel that has the facility to edit the colour, size and border of the selected container, as well as the ability to add and delete elements
	- the table editor is now easier to use as it implements guideline borders for tables which would otherwise seem invisible


Complete Changelog
----------------------

Core

+ WYSIWYG editor now allows for column properties to be set
+ WYSIWYG editor allows for for table properties to be set
+ WYSIWYG table editor now shows guideline borders for tables without borders
* Fixed bug #83 : Cannot have System Root URL with capital letters
* Fixed bug #84 : MySource_SET tags keep their last known value when removed from the parse file
* Fixed bug #349: WYSIWYG Div jumps up after toolbar button push
* Fixed bug #361: Can't set an entire row as header cells
* Fixed bug #362: Adding TH cells doesn't add THEAD tags
* Fixed bug #438: Cloning Permission problems with Notice Links
* Fixed bug #494: design_customisation asset not found until customised
* Fixed bug #581: User logged out of asset at the end of workflow
* Fixed bug #582: File lookups becoming corrupted with similar root urls
* Fixed bug #589: Put column and cell properties settings back in WYSIWYG
* Fixed bug #605: Missing metadata default value
* Fixed bug #617: Design loses Text File in Safe Edit
* Fixed bug #675: Asset Finder's buttons do not appear in WYSIWYG popups
* Fixed bug #680: WYSIWYG embed movie plugin only allows internal URLs
* Fixed bug #685: Creation of .FFV files buggy on Windows-based installs; affected by stat() cache
* Fixed bug #689: WYSIWYG not converting " into entity character &quot;
* Fixed bug #692: Javascript error when saving table properties in Internet Explorer
* Fixed bug #699: Remap errors after changing File asset status
* Fixed bug #702: Changing File Asset status after Morphing fails
* Fixed bug #708: Parts of the Designs section of the Settings screen aren't buffered and therefore print before all headers are printed
* Fixed bug #717: Using layouts to edit metadata on front end
* Fixed bug #719: Metadata showing "Array" as the value for all items in a multiple select
* Fixed bug #727: 'Customise Associated Files' sometimes fails
* Fixed bug #731: IE Table Editor Error
* Fixed bug #738: Logic errors in clear cache hipo
* Fixed bug #741: Design Code length not enforced
* Fixed bug #746: Display of time in settings incorrect
* Fixed bug #751: menus not printing settings.class values

CMS

+ Form submission screen is now paginated (custom form)
* Fixed bug #308: Asset Builder requires links lock on Parent Asset (asset builder)
* Fixed bug #447: Deleting form questions break Selective Email rules (custom form)
* Fixed bug #667: Custom Form bodycopies not cloned with form (custom form)
* Fixed bug #674: Complex Validation Rules on Custom Form (custom form)
* Fixed bug #682: Remote content greedy matches end tag (remote content)
* Fixed bug #686: Question with note inside section throws error when generating simple content file (custom form)
* Fixed bug #688: Tickbox tables cause an error on submit (custom form)
* Fixed bug #694: File Upload does not work when not privileged user, gives attribute permissions error (custom form)
* Fixed bug #698: Form submission fails if form is locked (custom form)
* Fixed bug #712: Nested asset list with dynamic parameter fatal error (asset listing)
* Fixed bug #713: File Upload form question creates the file asset but does not add the uploaded file (custom form)
* Fixed bug #733: Asset listings with dynamic parameters are cached (asset listing)
* Fixed bug #736: Redirect page "Hide Location Bar" (redirect page)
* Fixed bug #742: Cant add bodycopy after link tree recreated; bodycopy folder in the trash exclusively (custom form)
* Fixed bug #743: Response keywords not displaying anything in Thank You bodycopy (custom form)
* Fixed bug #744: Unable to use Bodycopies with custom forms
* Fixed bug #749: Password question type cannot be edited if inside a section (custom form)
* Fixed bug #752: Problems with custom form submission viewing and exporting (custom form)

Search

* Fixed bug #707: Asset lineage for linked assets is a compound of paths to all instances (search page)
* Fixed bug #724: "Do not include" metadata used in search (search manager)
* Fixed bug #734: Noise word in search field is not ignored (search manager)

LDAP

* Fixed bug #203: LDAP tree does not expand child branches reliably (ldap bridge)




VERSION 3.4.3

Complete Changelog
----------------------

Core

* Fixed bug #220: Acquiring lock on settings screen for a Backend user crashes browser
* Fixed bug #273: Linked CSS Design Area - Changing css asset
* Fixed bug #393: _path_ptrs declared twice in xml_array
* Fixed bug #395: Problem declaring multiple vars in a single MySource AREA
* Fixed bug #480: Client Side validation errors if Selection Limit rule is applied to Tickbox List
* Fixed bug #498: DIV properties content type should default to current type
* Fixed bug #501: Login_Form design area input boxes not using classes
* Fixed bug #520: Tooltips stops editing contents in bodycopy table columns
* Fixed bug #521: Tooltips stop editing in bodycopy if you hover too early
* Fixed bug #526: Customisation cannot be created in some case
* Fixed bug #534: Problems with declared_vars design area
* Fixed bug #537: Default Value Not Displaying in Chosen Date Format
* Fixed bug #540: Customised design areas not always updated
* Fixed bug #598: Step Logic "at least" 0 condition(s) must be met in this step
* Fixed bug #599: Metadata Date Incorrect When Keyword Chosen
* Fixed bug #601: "URL not found" error should send a 404 HTTP response
* Fixed bug #603: Table content disappears in table editor window when editing large tables
* Fixed bug #612: Asset in trash check has broken SQL
* Fixed bug #616: Relevance weights reset during step_03
* Fixed bug #618: Heading styles shortcut keys not working in WYSIWYG
* Fixed bug #619: Workflow reminder messages have broken links
* Fixed bug #620: Thesaurus browser popup appears almost off the screen
* Fixed bug #635: Hipo Jobs with large number of assets fail when processed in one group
* Fixed bug #636: Workflow schemas can be removed during workflow
* Fixed bug #641: Unquoted statement in hipo_herder.inc
* Fixed bug #643: Option list attribute ignores typed values if you dont click "add"
* Fixed bug #645: Selecting to NOT cascade permissions causes lock cascades
* Fixed bug #650: multiple declared vars type="boolean" error
* Fixed bug #653: Simple edit has JavaScript error
* Fixed bug #658: Standard Page Content Div won't release lock with parent
* Fixed bug #663: Image File Asset - Front End Editing Layout Anomaly

CMS

* Fixed bug #206: Custom Form - questions being shown on the asset map in reverse sort order
* Fixed bug #484: Custom form select list won't allow "0"
* Fixed bug #580: Form container for "test fr" (Id: #1683) could not print frontend
* Fixed bug #587: Custom form, switching html/plain text email breaks wysiwyg
* Fixed bug #621: Comparison form rule breaks when apostrophe in response
* Fixed bug #622: Adding questions on a fresh install gives attribute not found errors
* Fixed bug #661: What's new asset returns error with less than three assets
* Fixed bug #672: "Divide by Zero" error if search page has "Assets per Page" set to zero

Calendar

* Fixed bug #627: Mouseover description popups for calendar events in wrong position
* Fixed bug #631: Recurring Event Cancellation asset asks for name and wont create
* Fixed bug #634: Multi-day events don't always show up on the first day
* Fixed bug #637: Error when creating calendar event modification
* Fixed bug #651: Yearly events listing is not in chronological order

Search

* Fixed bug #647: Search input onfocus/onblur
* Fixed bug #662: Search within search returns no results

Ecommerce

* Fixed bug #664: Ecommerce forms cant be created




VERSION 3.4.2

Complete Changelog
----------------------

Core
*	Fixed bug #196: uncustomising then recustomising design area in design cust causes lock error
*	Fixed bug #352: some people can't login using Firefox
*	Fixed bug #360: adding an image without a URL causes the Insert Image script to freeze
*	Fixed bug #406: permissions should always cascade to dependant assets
*	Fixed bug #504: cant replace live file assets
*	Fixed bug #527: possible undeclared variable in design_edit_fns
*	Fixed bug #532: force <p> and <br> tags in the editor
*	Fixed bug #551: CSS comments stop WYSIWYG styles from being shown
*	Fixed bug #562: email format does not replace keywords in 'To' field
*	Fixed bug #568: asset names contain unencoded HTML characters
*	Fixed bug #570: asset map "Preview" option doesn't work
*	Fixed bug #572: sysadmins getting locked out with 0 max login attempts
*	Fixed bug #576: remap manager maps identical URLs
*	Fixed bug #577: infinite loop with insert_image.php
*	Fixed bug #578: hitting enter twice produces a mispositioned line
*	Fixed bug #586: completed time not shown on the last step of a workflow
*	Fixed bug #601: URL not found error should send a 404 HTTP response
*	Fixed bug #602: email receipts not sent if a blank email address is entered

CMS
+	New sections can now be named when created (custom form)
+	The number of new sections that can be created at once is no longer limited to 10 (custom form)
+	Form submissions are now listed in order of their submisson time (custom form)
+	Form rule 'Value Begins With' now has a case sensative option (custom form)
+	Form rule 'Value Ends With' now has a case sensative option (custom form)
+	Form rule 'Value Contains' now has a case sensative option (custom form)
+	Form rule 'Value Found In' now has a case sensative option (custom form)
+	Form rule 'Regular Expression' now has a case sensative option (custom form)
*	Fixed bug #492: bookmarks show in Broken link report (broken links report)
*	Fixed bug #566: custom form's bodycopies not showing keyword drop-down (custom form)
*	Fixed bug #574: nested redirect assets will still redirect if viewed in the backend (nest content)
*	Fixed bug #575: custom form breaks when nested in a standard page (custom form)
*	Fixed bug #579: closing </note> tag missing in form_email screen_recipients.xml (custom form)

LDAP
*	Fixed bug #561: LDAP fails to get groups based on the DN (ldap bridge)

Calendar
*	Fixed bug #594: using an asset builder to create a calendar event returns error (calendar event)




VERSION 3.4.1

Complete Changelog
----------------------

Core
+	Permission changes now always cascade to dependant assets regardless of if cascade is selected (bug #406)
-	Parenthesis are no longer allowed in web paths (bug #513)
*	Fixed bug #196: uncustomising then recustomising a design area in a design cust causes error acquring locks
*	Fixed bug #209: unable to purge trash with design customisations inside
*	Fixed bug #274: cannot delete customisation independently of the design
*	Fixed bug #406: permissions should always cascade to dependant assets
*	Fixed bug #420: caching of nested content URLs breaks
*	Fixed bug #432: disappearing thumbnails on divs
*	Fixed bug #488: setting layout for the layout manager causes '0 is not valid asset' error
*	Fixed bug #507: you cant set max idle time to zero
*	Fixed bug #509: two login boxes on a page means you cant login using the first one
*	Fixed bug #511: IMG tag created by custom image design area is not XHTML compliant
*	Fixed bug #513: parenthesis in design urls and import() statements break URL
*	Fixed bug #517: WYSIWYG table editor throws javascript error on early mouse move
*	Fixed bug #518: table not always visible in WYSIWYG table editor
*	Fixed bug #528: design/media/users folders cant have designs applied
*	Fixed bug #529: user groups dont have a web paths screen
*	Fixed bug #530: settings screen doesnt work on user group assets
*	Fixed bug #543: editing interface referencing wrong file
*	Fixed bug #550: cannot bump major version on some assets
*	Fixed bug #554: cron manager dies without clearing errored jobs
*	Fixed bug #555: cron manager undefined index errors
*	Fixed bug #556: no table row delete button
*	Fixed bug #557: setting the character set does nothing

CMS
*	Fixed bug #516: remote content pages cannot be nested (remote content)
*	Fixed bug #519: keyword %asset_lineage% should use short_name of asset (asset listing)
*	Fixed bug #523: remote binary content fails (remote content)
*	Fixed bug #524: keyword %asset_name% for custom forms displays as 'Form Contents' (custom form)
*	Fixed bug #545: checkbox list has default selection (custom form)




VERSION 3.4.0

Featured Changes
----------------------

New Global Web Folders

	Design linking changes introduced in 3.3.1 beta have meant have resulted in existing site designs requiring their own Site asset to be created to ensure all the images and files attached to the design still have a URL that can be used to access them. This required a new Site asset to be created and for administrators to move all the site designs under this Site.

	To make this process easier, there is a now a Design Folder asset that can be used to store site designs. The Design Folder sets a default URL when created, so any designs linked under it will be web accessible by default. URLs for the Design Folder can also be modified as required, like a normal site asset.

	In addition, two other web folders have been added. There is a User Folder in which to store users and user groups, and a Media Folder in which to store files and images. Like the Design Folder, all assets linked under these two folders will be web accessible by default.

Default Web Paths for Users

	hen created, User assets now have a default web path set so the asset is web accessible. This allows the details of the user account to be edited in the simple editing interface without the use of the Account Manager, allowing for the editing of user metadata (etc) to be edited using layouts.


Complete Changelog
----------------------

Core
+	User assets now get a default web path when created
+	New global web accessible folder in which to place site designs
+	New global web accessible folder in which to place files, images and other media
+	New global web accessible folder in which to place users and user groups
+	Improvements to the image editor applet to clean up menus and tools
+	Improved brightness/contrast and related image adjustments in the image editor applet
*	Fixed bug #413: failure when detecting version requirements in MAPS
*	Fixed bug #452: MAPS fails when checking version
*	Fixed bug #453: general.js script include is not XHTML Strict compatible
*	Fixed bug #454: table editing pop-up doesn't work in IE
*	Fixed bug #461: error morphing File asset to Image asset
*	Fixed bug #464: cloning assets causes the create link to be a notice link
*	Fixed bug #467: multiple_asset_finder() doesn't work
*	Fixed bug #481: erronous tags in WYSIWYG with Firefox
*	Fixed bug #485: default metadata not visible in a field-specific metadata design area
*	Fixed bug #503: preferences not being set correctly

CMS
*	Fixed bug #458: asset builder not closing LI tag (asset builder)
*	Fixed bug #459: undefined variable in Form::printBody() (custom form)
*	Fixed bug #463: root nodes selector should be dynamic (asset listing)
*	Fixed bug #479: section links are not being recognised on Form Contents' details screen (custom form)
*	Fixed bug #482: error when submitting a form as a guest when the root user has locked the asset (custom form)
*	Fixed bug #489: public form submissions trying to load user asset (custom form)

Ecommerce
*	Fixed bug #483: forms not detecting numeric fields (ecommerce form)




VERSION 3.4.0 RC1

Featured Changes
----------------------

New User Agent Condition For Show If Design Area

	There is a new condition for Show_If design areas called User_Agent. The user agent condition allow you to conditionally display content based on the type of browser or operating system that a site visitor is viewing the site with. The condition makes use of the user agent string provided by the web browser. Note that the user agent string can be modified on some browsers and so is not guaranteed to always accurately reflect the browser or operating system the site visitor is using.

	One use of this new condition is to set the design for a site based on the browser type. The following example uses the new condition to set a low bandwidth design for Blackberry PDA users. It redirects Blackberry users, setting the design for the duration of their session.

	<MySource_AREA id_name="test_blackberry" design_area="show_if">
	   <MySource_SET name="condition" value="user_agent" />
	   <MySource_SET name="condition_user_agent" value="blackberry" />
	   <MySource_THEN>
		 <script language="Javascript">
		   document.location = "<MySource_PRINT id_name="__global__" var="asset_link"
		   start_query_string="true" append_query_string="true" />SQ_DESIGN_NAME=low_bandwidth&SQ_ACTION=set_design_name";
		 </script>
	   </MySource_THEN>
	</MySource_AREA>


Complete Changelog
----------------------

Core
+	Inbox marks new messages as read when they are previewed
+	New Show If design area condition to conditionally printing content based on browser user agent string
-	Only User and File assets can be morphed

CMS
*	Fixed bug #437: custom Form displays the word Array instead of the array of keywords (custom form)

Calendar
*	Fixed bug #415: recurring event cancellation and modification does not work (calendar page)




VERSION 3.3.1 beta

Featured Changes
----------------------

No Upgrade Available

	MySource Matrix 3.3.1 beta includes significant changes to the database structure due to our commitment to add Oracle support to MySource Matrix. The database changes are the first step towards this goal. There is currently no upgrade script available for this version due to the large number of changes to be made during the upgrade.

	The 3.3.1 beta release is present here for evaluation purposes only. It contains a significant number of new features, so we encourage users to install this version for testing and evaluation, but not to attempt upgrades of current 3.2.x systems.

MySQL Support Dropped

	MySource Matrix 3.3.1 beta drops support for MySQL as part of our commitment to add Oracle support to MySource Matrix. The FAQ contains more information about why MySQL support is being dropped and when it will be reintroduced. New installs of MySource Matrix 3.3.1 beta will only work with PostgreSQL databases.

Speed Improvements

	MySource Matrix 3.3.1 beta contains a number of speed improvements over the current 3.2.x versions. A significant portion of development time for this release was put into tracking down and fixing slow queries and PHP code. We have added new indexes to the database, changed the way asset creation works, improved the loading of asset attributes, and added caching of installed asset types, all to improve the speed of the system.

	These changes will be most evident on larger systems, and have been targeted to improve the loading of the administration interface and decrease the time taken to create assets.

Internal Messages No Longer In Rollback

	To gain further speed improvements, it was necessary to remove internal messages from the rollback system. The result is that, when viewing the system in rollback view mode, internal messages will remain current and will not appear as they would have on the specified rollback date. No internal messages or logs will be lost as a result of this change.

Design Linking Changes

	When you link a design to a site or page, the design used to be TYPE_3 linked to the asset. TYPE_3 links don't appear in any menus, but they are still part of the asset tree. As a result, all status, schema, permission etc changes that occurred to a site or page would cascade to the design assets as well. This was generally unexpected behaviour. Designs are now NOTICE linked instead of TYPE_3 linked to stop the cascading of changes.

Disabled Buttons On Commit

	To reduce confusion, pressing a button that submits a form while editing (such as the Commit, Lock, or Release Locks(s) buttons) now disables all buttons in the editing interface. Previously, pressing a submit button twice produced a Javascript warning, letting the user know that the form has already been submitted. This new method makes this process less confusing for users.

WYSIWYG Now Works With Strict HTML

	A problem has existed with the WYSIWYG editor for a while where the toolbar is not displayed properly if a DOCTYPE is declared for the page. This occurred when the site's design was being painted instead of the administration design, such as when working in the simple editing interface or using the Asset Builder.

	The previous solution to this problem was to remove the DOCTYPE declaration from the design parse file, or use a different design while using the simple editing interface. The WYSIWYG has now been changed to stop this problem from occurring even if a DOCTYPE declaration is present.

Commit Button Text Now Configurable

	The commit buttons throughout the administration and simple editing interfaces are all labeled as "Commit". To aid in the customisation of the editing interfaces, the commit button text can now be set for the whole system. For example, you may wish to change the commit button to read "Save".

	A system administrator can change the commit button text through the System Configuration screen. The commit button options are listed at the bottom of this screen.

Support For Uploading Large Files

	MySource Matrix 3.3.1 beta contains a new data directory (MYSOURCE_ROOT/data/temp) where you can place large files and then upload them into your MySource Matrix system. Uploading large file via HTTP is a long process and often fails. This new system allows you to copy large files to the server and then have MySource Matrix import them directly into your system.

	For example, you can FTP a 20MB PDF document to the MYSOURCE_ROOT/data/temp directory and then select this file when creating a PDF asset in MySource Matrix. On the create screen of the PDF, simply select to use an uploaded files and select the name of the file from the dropdown displayed.

New Show If Design Area

	There is a new design area available in MySource Matrix 3.3.1 beta that allows you to conditionally display content. Content can be displayed based on if the visitor is logged in, if they are in the simple editing interface, or if they have write or administrator access to the asset.

	The following example shows how content can be displayed based on the logged in status of the visitor.

	<!-- display different content depending on whether the user is logged in or not -->
	<mysource_area id_name="logged_in_condition" design_area="show_if">
	  <mysource_set name="condition" value="logged_in" />
	  <mysource_then>
		You are logged in.
	  </mysource_then>
	  <mysource_else>
		You are NOT logged in.
	  </mysource_else>
	</mysource_area>

New Request Vars Design Area

	here is a new design area available in MySource Matrix 3.3.1 beta that allows you to access the contents of the GET, POST, and REQUEST arrays in the design.

	For example, to dynamically control the title of a page, you could use a GET variable that is passed on the query string of the URL. Consider the following example design area:

	<!-- this is declared at the top of the parse file -->
	<MySource_AREA id_name="get_vars" design_area="request_vars">
		<MySource_SET name="method" value="get" />
	</MySource_AREA>

	<!-- this is in the main body of the parse file -->
	<h1><MySource_PRINT id_name="get_vars" var="page_title" /></h1>
	If a user comes to this page with the URL: http://www.example.com/page?page_title=Testing
	The design would output the title as: <h1>Testing</h1>

Menu Design Area Changes

	The menu design area has a new option to customise linking within high accessibility menus. The new self_link option determines if the current asset should include a link to itself in the menu or if it should only display its name or short name. To use the self_link option, the new asset_name_linked and asset_short_name linked print vars must also be used.

	Consider the following example where the menu prints all pages but the current page has no <a> tags around it.

	<MySource_AREA id_name="menu" design_area="menu_normal">
	  <MySource_SET name="self_links" value="false" />
	  <MySource_ASSET>
		<MySource_PRINT var="asset_name_linked" />
	  </MySource_ASSET>
	</MySource_AREA>

New Calendar Package

	A new set of modules has been developed to add calendar functionality to MySource Matrix. The Calendar package is included in the commerically available modules package from Squiz.Net. For more information on the MySource Matrix Calendar package, or to purchase the commerical modules, please contact us.

New Lexicon Package

	A new set of modules has been developed to add thesaurus related functionality to MySource Matrix, including thesaurus based searching and abbreviation replacements in the WYSIWYG editor. The Lexicon package is included in the commerically available modules package from Squiz.Net. For more information on the MySource Matrix Lexicon package, or to purchase the commerical modules, please contact us.

New Ecommerce Package

	A new set of modules has been developed to add basic ecommerce functionality to MySource Matrix. The Ecommerce package is included in the commerically available modules package from Squiz.Net. For more information on the MySource Matrix Ecommerce package, or to purchase the commerical modules, please contact us.




Complete Changelog
----------------------

Core
+	Commit Button text is now configurable
+	Submit buttons are now disabled on commit
-	Users can no longer type text into asset finder fields
+	Database table, column, and key names have changed for Oracle compatability
+	Added some new database indexes for speed improvements
+	Changed the way asset creation works to allow for speed improvements
+	Improved the way assets attributes are loaded from the database
+	Installed asset types are now cached during the install process to allow for speed improvements
-	Internal messages are no longer stored in the rollback system
+	The tables.xml files are now defined for each package rather than the whole system
+	Delete button in bodycopy DIV and TABLE popups has changed so as not to confuse it with a close button
+	New expand keywords plugin for WYSIWYG editor
+	New site_link global print var for designs that works the name way as asset_link but points to the site asset
+	New Request Vars design area to allow access to the GET, POST, and REQUEST data within a design
+	New Show If design area that allow conditional display of content in designs
+	New self_link setting for the menu design area which creates self-referential links
+	New print vars asset_name_linked and asset_short_name_linked for the menu design area
+	Added support for uploading large files using a new data/temp directory
+	New global and group preference to set the maximum size of file uploades for the system or a user group
+	Image assets now have an Edit screen where they can be edited using the ImageJ Java applet
+	Most images can now be converted to a supported image type (GIF, JPG, PNG) upon creation using the ImageJ Java applet
+	Reports now show the time they were last generated and the user who generated them
+	New Asset Counter report to display a count of each type of asset in the system
+	All backend users can now kill their own HIPO jobs using the HIPO Herder
-	Cancel button is no longer displayed on some HIPO jobs to stop confusion over when a job can be cancelled
-	Moving to trash now uses the main Asset Map to select a remap URL rather than using its own
+	Added support for backend section notes
+	New search box in top frame to allow quick access to an asset by ID or URL
+	Can now view current metadata value when metadata screen is unlocked, even hidden schemas
+	Asset map now throws visibile errors when MySource Matrix generates an error while processing an asset map request
+	WYSIWYG now works with strict HTML
-	WYSIWYG popup editor plugin has been removed
+	WYSIWYG popup windows are now resizable and have scrollbars
+	Added new help page for the WYSIWYG editor
+	Keyword dropdown in WYSIWYG editor now only prints the keyword rather than the visual aids
+	Insert image WYSIWYG plugin now auto generates ALT text based on image name
+	New advanced table editing plugin for the WYSIWYG editor to replace the current one
*	Fixed bug #68: keyword array is not consistent in source code
*	Fixed bug #173: permissions and workflow changes should not cascade to linked designs
*	Fixed bug #202: cloned designs do not appear in the asset map as they are TYPE_3 linked to their new parent
*	Fixed bug #212: site URL does not respect the SQ_DESIGN_NAME GET variable
*	Fixed bug #215: current_url() fails if HTTP_HOST is not available
*	Fixed bug #260: WYSIWYG misplaces html for anchors
*	Fixed bug #276: bodycopy containers not given unique IDs
*	Fixed bug #284: step one condition members in workflow get emailed even when step is bypassed
*	Fixed bug #336: Message window (new mail, popups blocked) moves out of the screen
*	Fixed bug #347: ctrl + K shortcut in WYSIWYG adds K character to content in IE
*	Fixed bug #367: remove link WYSIWYG action doesnt work inside a table cell in IE
*	Fixed bug #368: rollback_management.php doesnt work with new database structure
*	Fixed bug #375: bodycopy DIV ignores name attribute upon creation
*	Fixed bug #404: thumbnail asset shows current file information twice

CMS
+	Raw HTML cell type now uses a monospace font to help with laying HTML out clearly (raw html)
+	Form submissions are now assets (custom form)
+	Can now suppress the header for of the CSV for submission export (custom form)
+	New type of form question, File Upload, to allow files to be attached to form submissions (custom form)
+	Asset type list is now output as an unordered HTML list so it can be styled better (asset builder)
+	Additional create locations can now be configured to look in the GET, POST, or current asset data for the asset IDs (asset builder)
+	Root node can be set dymaically using GET, POST, or current asset data (asset listing)
+	Added a switch to optionally include the start and end tags in the contnet (remote content)
+	Added support for binary content tunneling and stripping (remote content)
+	Added new Template Builder page to allow the creation of bodycopies based on user defined content (template builder)
*	Fixed bug #314: all form fields are cleared if form rule failes (custom form)
*	Fixed bug #320: asset listing shows files of a design customisation (asset listing)

Search
*	Fixed bug: words with numbers get stripped out when searching (search page)
*	Fixed bug #217: hitting Enter for searching doesnt work in IE (search page)
*	Fixed bug #238: search doesnt ignore noise words in metadata select fields (search manager)
*	Fixed bug #239: metadata select fields with keys two characters or less are not indexed (search manager)
