MYSOURCE MATRIX CHANGELOG

VERSION 3.12.0 RC1

Featured Changes
-----------------------------------

Automatic Workflow Escalation

    This new feature allows a workflow process to automatically advance to the next step, or branch to an alternative set of steps, once the expiry time for that workflow step has lapsed. Escalation is applied on a step level, and escalation levels can be nested.


Default Bodycopy Content

    Most assets in the CMS package (such as Asset Listing Page, Search Page, Asset Builder Page, etc) now contain default content in their bodycopies and other attributes, thus reducing the time and effort required to configure these assets in a basic way.


Errors Reported from Squiz Server

    HIPO jobs run on Squiz Server now check to see if the job has died on the Squiz Server, and reports any errors that were found.


Selective Purge of Trash

    The trash now allows you to purge a certain sub-tree contained in the trash, instead of the whole trash itself. Note that an asset still will only be purged from the system if no links exist for that asset, including links elsewhere in the trash.


Safe Trash

    This new feature adds an optional layer of protection to the trash, where assets or their children cannot be trashed if they are live, or have notice links to other assets.


Require Secure Login Option

    This System Configuration option allows administrators to require logins to certain root URLs to come from a secure (HTTPS) connection. If an attempt to access a login screen is made from a non-secure connection, it will redirect to HTTPS to present the login screen, then return the user to a non-secure connection to display the page.


Hide Frames in Simple Edit Mode

    This new Simple Edit inferface option provides a middle ground between the full frames mode and "Ignore Frames" mode. This "Hide Frames" mode hides the top frame from view, and starts the asset map hidden (and will not be displayed until requested by an asset finder). However, both frames will still be printed, thus removing the pitfalls of "Ignore Frames" mode, where locks are not automatically refreshed while editing. This mode is triggered by the GET variable "hide_frames=1".


Authentication Redirects

    This new Site asset feature allows MySource Matrix to redirect to another URL within the same site as an alternative to a login box. This may be useful if the second URL is intercepted by a proxy or Apache configuration that authenticates the user.


Enhanced Backend Searching

    If the Search Package is installed, the Quick Search box can, in addition to searching by asset ID or URL, perform a system-wide keyword search. Results appear in a drop-down message, and each result gives the option to provide more context to the results, get more information about the asset, or to find lineages in the asset map.


Search Manager Improvements for Oracle

    The Search Manager now takes advantage of Oracle's Text package for searching, as a result of separating optimised queries for PostgreSQL and Oracle. These improvements also allows more advanced queries to be handled on Oracle-based MySource Matrix systems, such as bracketed queries and improved AND/OR handling.


Bulk File Upload Tool

    This new tool gives access to the functionality of the current bulk upload CLI script to the backend of MySource Matrix. This tool can, depending on configuration, add files that have been pre-uploaded to the server, and/or handle files uploaded from the browser window.


Visual Difference

    When a page is placed into Safe Edit, a "Show Diff" option will be added to the Preview screen of that asset, which will show deletions and insertions within the page when checked.


Missing Metadata Now Blocks Asset Go-Live

    MySource Matrix will now enforce the missing metadata rule whether or not a workflow is applied from an asset. If any required metadata is missing, then a message will appear underneath the "Change Status" drop-down informing you that the asset cannot be made live.


Thesaurus Appearance in Asset Map Switcher

    The Thesaurus can now be displayed in the asset map in two forms: a hierarchial format based on one or more relation types, or a "flat" format where all terms are displayed directly underneath the thesaurus in an "A-Z" order.


Notes on Thesaurus Terms

    Thesaurus Terms can now handle non-relation data. This allows, for example, data such as Scope Notes (SN), as defined by thesaurus creation standards such as ANSI/NISO Z39.19 and ISO 2788, to be handled by MySource Matrix's thesaurus.


Automatic Reflection in Thesaurus

    The Thesaurus asset can now handle reflection of relation types, so that a relation in one direction is reciprocated by an inverse relationship in the other direction. As a typical example, one can set up an automatic "narrower term/broader term" reflection.


Apache Configuration: Custom Asset Keywords in Request Notes

    Request notes can now use custom keywords, instead of just keywords common to all assets. This allows keywords such as metadata values to be used for Request Notes.


New User Options for LDAP Bridge

    The LDAP Bridge now allows you to select whether the users generated should have backend access or not. In previous versions, all LDAP users behaved as Backend Users. A new LDAP Backend User asset has been introduced for this purpose. The current LDAP User asset has been changed to have the same access as the standard User asset (ie. no backend access).


Submission Asset ID in Custom Form Emails

    The asset ID of a Custom Form submission, previously available only to the Thank You bodycopy, has now also been made available to emails sent out by the Custom Form. The keyword is %form_submission_id%, the same as used in the Thank You bodycopy.


Asset Remaps on Web Paths Screen

    The Web Paths screen now displays any remaps that may be applying to that asset, thus providing a fuller view of the URLs that point to that asset, whether provided by web paths or remaps. Users with Administrator permissions to the asset can add or remove remaps to the asset.


Disable External Authentication Systems Switch

    This switch in the main.inc configuration file (SQ_CONF_ENABLE_EXTERNAL_AUTH_SYSTEMS) allows systems other than Default Authentication to be temporarily disabled in the case of the source (whether LDAP or IPB) compromised or other issues.


Future Report Regeneration Cron Job

    This new Cron Job, accessible from any Report asset, allows them to be regenerated a future time or a schedule. This Cron Job is considered to be 'long-running' - in other words, expected to take longer than the typical Cron interval - and will not cause the Cron Manager to deadlock if they are still running.


Broken Link Notification on Links Report

    The Links Report now has a "Report Broken Links?" attribute, which will send an internal message to users with Administrator permissions to an asset if broken links are found within it. A "Report Broken Links Now" button has also been added if the attribute is turned off, for manual checking. Checking for Broken Links can happen at most once for each report generation.


New Global Keywords

    Two new sets of global keywords have been added: %globals_asset_*% which refers to the current asset, and %globals_site_*% for current site.


Custom Form Accessibility Improvements

    A new %question_label_*% field prints the question title surrounded by a LABEL tag containing the appropriate ID for that question's response field. Also, an optional Tab Index attribute has been added to control the tab order of a custom form.


Persistent Cookie Manager in Remote Content

    This new feature ensures that session cookies are only lost when the browser is closed when using Remote Content, rather than earlier.


Asset Sorting Tool

    This new system tool allows users to permanently re-order the immediate children of a specified parent asset by a standard asset field (eg. Asset ID, Last Updated Time, etc).


"Leave Empty" Option in Select Form Question

    This new attribute adds a new option to the Select form question that returns an empty string key value when the Custom Form is submitted. The text of the empty option is customisable.


Delete All Option for Form Questions

    Custom Form and Form Sections now have a "Delete All" check-box that allows all questions to be deleted from a form at once.


"Root Node Logic" Option in Asset Listing

    This new option allows you to determine whether assets will be listed if they match at least one root node (as per previous behaviour), or if they match all of them.


Usage Screen in Design/Paint Layouts

    Designs and Paint Layouts now have a Usage screen that shows the top-level assets where it has been applied (in the case of Paint Layouts, where it has been applied to at least one URL), and the number of children underneath each. Design Customisations also contain a Usage screen.


Asset Listing "Page List Without Unused Letters" Keyword

    This new keyword (%page_list_without_unused%) is the same as the current %page_list% keyword, except that letters that are unused are not displayed, instead of being displayed unlinked.


Parent Multiple Page Asset ID Keyword

    This new keyword (%multiple_page_assetid%), added to the Multiple Page Page asset, is replaced with the asset ID of the parent Multiple Page asset. This keyword has also been added to Multiple Page assets themselves, however this is functionally equivalent to the %asset_assetid% keyword.


Dynamic Keywords for Dates

    Date keywords now allow custom formats to be specified, using the same format strings as used in PHP's date() function (eg. %event_start_datetime_d-M-Y% will return a date in the format "01-Sep-2006"). Note that this format cannot use spaces; multiple keywords can be used to replicate this behaviour, however.


Metadata Field Keyword for Layouts

    Individual Metadata Field assets can now be printed for editing in a layout by using the keyword %metadata-F_XXXX%, where "XXXX" is the asset ID of the Metadata Field to print.


Customisable Asset Names in Asset Map

    The System Configuration screen now allows modification of the format of the asset name in the Asset Map, using any keywords generally applicable to an asset.


Upcoming Events List Page

    This new Calendar asset type displays a set number of events, up to a maximum time in the future (eg. next 5 events or 2 weeks, whichever comes first). This is similar to a Rolling Calendar Page except that the main filter is the number of events, rather than number of time units into the future.


User Assets in To: Email Field

    The To: field in many email bodycopies now allow the selection of one or more user assets in addition to email addresses. This applies to email bodycopies in the following assets: Custom Form, Account Manager Page, and Password Reset Page.


"Do Not Change Status" Option in Asset Builder Page

    This new setting, found in the Create Status option, stops Asset Builder from attempting to change the status of the asset upon creation. This may be useful if you are using a trigger to conditionally set the status of an asset upon creation, as the trigger's change is usually wiped out by the Asset Builder's Create Status setting.


Default Blank Parse File for Designs

    Designs are now created with an empty parse file, thus avoiding the need to upload a parse file before being able to edit the design.


Delete All System Cache Option

    This new Cache Manager option will clear the entire MySource Matrix cache, regardless of other assets on the Clear Cache screen. This may be useful in some instances, however this should be used sparingly, especially on large systems.


Set Status Trigger Action Improvements

    This new setting affects assets that are controlled by a dependant parent. If this new setting is turned on, if the affected asset is a dependant child, the trigger action will set the status of the highest-level parent(s) the asset depends upon.


Data Directory Restructure

    Systems running on *nix systems and an Ext2/Ext3 filesystem normally cannot create more than 32,000 of a certain asset type, due to filesystem link count limitations. The data directory now uses a two-level hierarchy, where the first level is a hash of asset ID. The maximum number of directories, which defaults to 20 (thus providing a theoretical maximum of 640,000 assets), can be changed in the main.inc configuration file before the system is installed, or upgraded from previous versions.


Memory Limits Now Configurable in main.inc

    The maximum memory allocation for MySource Matrix and its Cron script are now configurable in main.inc, avoiding the need to configure it in the driver files themselves.


Content Encoding Sent to HTML Tidy

    The default backend content encoding is now sent to the HTML Tidy program as a command-line parameter, allowing the plugin to work properly on data encoded in formats other than the default ISO-8859-1 (Western European) format.


Sliding Page List in Listing Engine Assets

    A new keyword, %page_list_X% where "X" is a number, displays a page list containing a total of X pages. For example, %page_list_7% will show a seven-page list, which will typically consist of the current page and three pages either side.


Uploaded File Type Restrictions

    This new File asset preference allows you to further restrict the extensions of files users can upload.


Maximum Pre-Uploaded File Size Option

    This new System Configuration screen option allows you top specify a limit for files created in MySource Matrix using the "pre-uploaded file" method. The limit set for files uploaded through the browser no longer applies to pre-uploaded files.


Structured File Import Tool Changes

    The "Asset To Import Under" and "New Site" options in this tool are now independent. If both are selected, a new site will be created underneath the selected asset, rather than the root folder.


Referral Asset in Send to a Friend Emails

    Keywords of the form %referral_asset_*% can now be used to refer to the referring asset in Custom Form's Send to a Friend emails, where "*" is the tail of any keyword that normally applies to the asset (eg. %referral_asset_name%).


Metadata Schemas Applied to Built Assets

    Assets created in the Asset Builder Page asset can now have one or more Metadata Schemas automatically applied to it.


Create Form Type Customisation in Asset Builder

    There is now an option to customise the create form for an asset type, instead of using the default create form defined by the asset. Customising an asset type creates a Layout asset, where layout keywords, normally used for Simple Edit, can be used to customise the create form.


Ignore Port Number in Proxy Config

    When turned on, URLs generated by MySource Matrix will not include the port number used to access the system. This can be useful, for example, for a caching proxy that accesses the system using port other than port 80.


Internal Message Purge Script

    This new script allows you to delete internal messages matching a certain criteria from the system. The scope of messages to be deleted can be controlled by way of time, from/to user, type of message, and whether the message has been read and/or deleted by the recipient.


CSV to HTML Tree Script

    This script converts a CSV list into a HTML tree with each level represented by header (H1, H2, etc) tags. Each CSV record is a comma-separated list of heading levels (eg. "H1,H2,H3").


Additional Changes and Bug Fixes
-----------------------------------

Core

+ Can now change the number of lines to display in Log Manager
+ Can now change HTTP Authentication variable name from Apache default of REMOTE_USER
+ Current asset attributes now printable in designs, similar to how current user attributes are
+ Strip Formatting feature of WYSIWYG can how handle soft hyphens
+ Parameter Map attribute can now accept custom keywords from asset-based sources instead of just asset ID
+ Parameter Map can now use Current Site as an asset-based source
+ New trigger events for user login and logout
+ Remap Manager now uses "301 Moved Permanently" HTTP status to redirect assets
+ Trigger name is now mandatory
+ WYSIWYG attributes now expand internal links to their proper URLs when printed using keywords
+ Time of page generation now printed alongside date on Matrix comment added to front-end pages
+ Cron Manager View Jobs screen is now paginated, showing 20 jobs at a time
+ Add Bodycopy DIV interface now more consistent with the Edit DIV Properties pop-up
+ New Access Permission trigger condition
+ New Release Lock trigger action
+ New URL Matches trigger condition
+ New Simple Edit Accessed trigger event
+ Clear Cache HIPO now has a freestyle threshold (defaults to 100 assets)
+ Attribute Changed trigger condition now allows selection of non-user-creatable asset types

CMS

+ Listing type assets result page GET variable changed so multiple nested asset listings don't conflict
+ Remote Content Page now uses standard MySource Matrix warning messages
+ Site Map now allows suppression of dependant assets

IPB Bridge

+ New trigger actions for logging into IPB systems based on Matrix logins
